(()=>{var e={};e.id=363,e.ids=[363],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7295:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>c,routeModule:()=>m,tree:()=>d}),a(7288),a(2029),a(5866);var r=a(3191),n=a(8716),t=a(7922),l=a.n(t),i=a(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(s,o);let d=["",{children:["reset-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7288)),"C:\\Users\\Bevan\\uni-food-delivery\\src\\app\\reset-password\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2029)),"C:\\Users\\Bevan\\uni-food-delivery\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Bevan\\uni-food-delivery\\src\\app\\reset-password\\page.tsx"],h="/reset-password/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/reset-password/page",pathname:"/reset-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2620:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},8094:()=>{},6724:(e,s,a)=>{Promise.resolve().then(a.bind(a,3043))},3043:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var r=a(326),n=a(7577),t=a(5047),l=a(434),i=a(8015);function o(){(0,t.useRouter)();let[e,s]=(0,n.useState)(""),[a,o]=(0,n.useState)(""),[d,c]=(0,n.useState)(!1),[h,u]=(0,n.useState)(""),[m,p]=(0,n.useState)(!1),[x,j]=(0,n.useState)(null),[g,f]=(0,n.useState)(!1),[v,N]=(0,n.useState)(""),b=async s=>{if(s.preventDefault(),c(!0),u(""),e!==a){u("Passwords do not match"),c(!1);return}if(e.length<8){u("Password must be at least 8 characters long"),c(!1);return}try{let s=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,accessToken:x})}),a=await s.json();s.ok?p(!0):u(a.error||"Failed to reset password")}catch(e){u("Network error. Please try again.")}finally{c(!1)}};return g?(0,r.jsxs)(r.Fragment,{children:[r.jsx(i.Z,{}),r.jsx("main",{style:{marginTop:"80px",padding:"2rem"},children:r.jsx("div",{className:"auth-container",children:(0,r.jsxs)("div",{className:"auth-card",children:[(0,r.jsxs)("div",{className:"auth-header",children:[r.jsx("div",{className:"error-icon",children:"❌"}),r.jsx("h1",{children:"Password Reset Error"}),r.jsx("p",{children:v})]}),r.jsx("div",{className:"error-message",children:r.jsx("p",{children:"The password reset link is invalid or has expired. Please request a new password reset."})}),(0,r.jsxs)("div",{className:"auth-footer",children:[r.jsx(l.default,{href:"/forgot-password",className:"btn btn-primary",children:"Request New Reset"}),(0,r.jsxs)("p",{className:"auth-switch",children:["Remember your password?"," ",r.jsx(l.default,{href:"/login",className:"auth-link",children:"Sign in here"})]})]})]})})})]}):m?(0,r.jsxs)(r.Fragment,{children:[r.jsx(i.Z,{}),r.jsx("main",{style:{marginTop:"80px",padding:"2rem"},children:r.jsx("div",{className:"auth-container",children:(0,r.jsxs)("div",{className:"auth-card",children:[(0,r.jsxs)("div",{className:"auth-header",children:[r.jsx("div",{className:"success-icon",children:"✅"}),r.jsx("h1",{children:"Password Reset Successfully"}),r.jsx("p",{children:"Your password has been updated. You can now sign in with your new password."})]}),r.jsx("div",{className:"success-message",children:r.jsx("p",{children:"Your password has been successfully reset. Please use your new password to sign in to your account."})}),(0,r.jsxs)("div",{className:"auth-footer",children:[r.jsx(l.default,{href:"/login",className:"btn btn-primary",children:"Sign In"}),(0,r.jsxs)("p",{className:"auth-switch",children:["Need help?"," ",r.jsx(l.default,{href:"/forgot-password",className:"auth-link",children:"Contact support"})]})]})]})})})]}):x?(0,r.jsxs)(r.Fragment,{children:[r.jsx(i.Z,{}),r.jsx("main",{style:{marginTop:"80px",padding:"2rem"},children:r.jsx("div",{className:"auth-container",children:(0,r.jsxs)("div",{className:"auth-card",children:[(0,r.jsxs)("div",{className:"auth-header",children:[r.jsx("h1",{children:"Reset Your Password"}),r.jsx("p",{children:"Enter your new password below"})]}),h&&r.jsx("div",{className:"error-message",children:h}),(0,r.jsxs)("form",{onSubmit:b,className:"auth-form",children:[(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"password",children:"New Password"}),r.jsx("input",{type:"password",id:"password",name:"password",value:e,onChange:e=>s(e.target.value),required:!0,placeholder:"Enter your new password",className:"form-input",minLength:8}),r.jsx("small",{className:"form-help",children:"Password must be at least 8 characters long"})]}),(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),r.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:a,onChange:e=>o(e.target.value),required:!0,placeholder:"Confirm your new password",className:"form-input",minLength:8})]}),r.jsx("button",{type:"submit",disabled:d,className:"btn btn-primary auth-submit",children:d?"Resetting Password...":"Reset Password"})]}),(0,r.jsxs)("div",{className:"auth-footer",children:[r.jsx(l.default,{href:"/login",className:"back-to-login",children:"← Back to Login"}),(0,r.jsxs)("p",{className:"auth-switch",children:["Remember your password?"," ",r.jsx(l.default,{href:"/login",className:"auth-link",children:"Sign in here"})]})]})]})})})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(i.Z,{}),r.jsx("main",{style:{marginTop:"80px",padding:"2rem"},children:r.jsx("div",{className:"auth-container",children:r.jsx("div",{className:"auth-card",children:r.jsx("div",{className:"loading",children:"Checking reset token..."})})})})]})}},8015:(e,s,a)=>{"use strict";a.d(s,{Z:()=>i});var r=a(326),n=a(7577),t=a(5047),l=a(434);function i(){let e=(0,t.useRouter)(),s=(0,t.usePathname)(),[a,i]=(0,n.useState)(!1),[o,d]=(0,n.useState)(null),[c,h]=(0,n.useState)(!0),u=async()=>{let s=localStorage.getItem("accessToken");if(s)try{await fetch("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessToken:s})})}catch(e){console.error("Logout error:",e)}d(null),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),e.push("/")};return r.jsx("header",{className:"site-header",children:r.jsx("div",{className:"container",children:(0,r.jsxs)("div",{className:"navbar",children:[r.jsx("div",{className:"navbar-brand",children:(0,r.jsxs)(l.default,{href:"/",className:"logo",children:[r.jsx("span",{className:"logo-icon",children:"\uD83D\uDC7C"}),r.jsx("span",{className:"logo-text",children:"Campus Angel"})]})}),(0,r.jsxs)("nav",{className:`navbar-nav ${a?"open":""}`,children:[r.jsx(l.default,{href:"/",className:"nav-link",children:"Home"}),r.jsx(l.default,{href:"/restaurants",className:"nav-link",children:"Restaurants"}),r.jsx(l.default,{href:"/about",className:"nav-link",children:"About"}),r.jsx(l.default,{href:"/contact",className:"nav-link",children:"Contact"})]}),(0,r.jsxs)("div",{className:"navbar-actions",children:[c?r.jsx("div",{className:"auth-loading",children:r.jsx("span",{className:"loading-spinner",children:"⏳"})}):"/login"===s||"/register"===s?null:r.jsx(r.Fragment,{children:o?r.jsx("div",{className:"user-menu",children:(0,r.jsxs)("div",{className:"user-info",children:[(0,r.jsxs)("div",{className:"user-details",children:[(0,r.jsxs)("span",{className:"user-greeting",children:["Hello, ",o.firstName,"!"]}),r.jsx("span",{className:"user-email",children:o.email})]}),(0,r.jsxs)("div",{className:"user-actions",children:[r.jsx(l.default,{href:"/account",className:"btn btn-secondary account-btn",children:"My Account"}),r.jsx("button",{className:"btn btn-secondary logout-btn",onClick:u,children:"Logout"})]})]})}):(0,r.jsxs)("div",{className:"auth-buttons",children:[r.jsx(l.default,{href:"/login",className:"btn btn-secondary",children:"Login"}),r.jsx(l.default,{href:"/register",className:"btn btn-primary",children:"Register"})]})}),(0,r.jsxs)(l.default,{href:"/cart",className:"btn btn-secondary cart-btn",children:[r.jsx("span",{className:"cart-icon",children:"\uD83D\uDED2"}),r.jsx("span",{className:"cart-text",children:"Cart"})]}),r.jsx("button",{className:"mobile-menu-toggle",onClick:()=>i(!a),"aria-label":"Toggle mobile menu",children:r.jsx("span",{className:`hamburger ${a?"open":""}`})})]})]})})})}},2029:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i,metadata:()=>l});var r=a(9510),n=a(5384),t=a.n(n);a(1141);let l={title:"Campus Angel - University Food Delivery",description:"Your campus food angel is here! Order delicious food from campus restaurants with fast delivery."};function i({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:t().className,children:e})})}},7288:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(8570).createProxy)(String.raw`C:\Users\Bevan\uni-food-delivery\src\app\reset-password\page.tsx#default`)},1141:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[935,496],()=>a(7295));module.exports=r})();