(()=>{var e={};e.id=529,e.ids=[529],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3599:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),r(8608),r(2029),r(5866);var a=r(3191),t=r(8716),n=r(7922),l=r.n(n),i=r(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(s,o);let c=["",{children:["restaurants",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8608)),"C:\\Users\\Bevan\\uni-food-delivery\\src\\app\\restaurants\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"C:\\Users\\Bevan\\uni-food-delivery\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Bevan\\uni-food-delivery\\src\\app\\restaurants\\page.tsx"],u="/restaurants/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/restaurants/page",pathname:"/restaurants",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2620:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},8094:()=>{},8965:(e,s,r)=>{Promise.resolve().then(r.bind(r,3389))},3389:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o});var a=r(326),t=r(7577),n=r(5047),l=r(434),i=r(4131);function o(){let e=(0,n.useRouter)(),{user:s,loading:r,logout:o}=(0,i.a)(),[c]=(0,t.useState)([{id:1,name:"Subway",cuisine:"American • Sandwiches",rating:4.8,deliveryTime:"15-20 min",deliveryFee:"Free",emoji:"\uD83E\uDD6A",badge:"Most Popular",description:"Fresh subs & salads made to order with premium ingredients.",popularItems:"Italian BMT, Turkey Breast, Veggie Delite",category:"fast-food",image:"/api/placeholder/400/200"}]),[d,u]=(0,t.useState)("all"),[m,h]=(0,t.useState)(""),p=c.filter(e=>"all"===d||e.category===d).filter(e=>{if(!m)return!0;let s=m.toLowerCase();return e.name.toLowerCase().includes(s)||e.cuisine.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.popularItems.toLowerCase().includes(s)}),x=s=>{"subway"===s.name.toLowerCase()&&e.push("/restaurants/subway")};return(0,a.jsxs)("div",{className:"App",children:[(0,a.jsxs)("div",{className:"restaurants-hero-bg",children:[a.jsx("header",{className:"modern-header",children:(0,a.jsxs)("nav",{className:"modern-nav",children:[a.jsx(l.default,{href:"/",className:"modern-logo",children:"Campus Angel"}),(0,a.jsxs)("ul",{className:"modern-nav-links",children:[a.jsx("li",{children:a.jsx(l.default,{href:"/",children:"Home"})}),a.jsx("li",{children:a.jsx(l.default,{href:"/restaurants",children:"Restaurants"})}),a.jsx("li",{children:a.jsx(l.default,{href:"/account",children:"Account"})}),a.jsx("li",{children:a.jsx(l.default,{href:"/cart",children:"Cart"})})]}),a.jsx("div",{className:"modern-auth-buttons",children:r?a.jsx("div",{className:"auth-loading",children:"⏳"}):s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"welcome-text",children:["Welcome, ",s.firstName,"!"]}),a.jsx(l.default,{href:"/account",className:"btn btn-outline-modern",children:"My Account"}),a.jsx(l.default,{href:"/cart",className:"btn btn-primary-modern",children:"Cart"}),a.jsx("button",{onClick:o,className:"btn btn-secondary-modern",children:"Logout"})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(l.default,{href:"/login",className:"btn btn-outline-modern",children:"Log In"}),a.jsx(l.default,{href:"/register",className:"btn btn-primary-modern",children:"Sign Up"})]})})]})}),a.jsx("section",{className:"restaurants-hero",children:a.jsx("div",{className:"restaurants-hero-container",children:(0,a.jsxs)("div",{className:"restaurants-hero-content",children:[a.jsx("h1",{children:"\uD83C\uDF7D️ Campus Restaurants"}),a.jsx("p",{children:"Discover delicious food from your favorite campus spots. Fresh, fast, and delivered right to you!"}),(0,a.jsxs)("div",{className:"restaurants-hero-stats",children:[(0,a.jsxs)("div",{className:"modern-stat",children:[a.jsx("span",{className:"modern-stat-number",children:c.length}),a.jsx("span",{className:"modern-stat-label",children:"Restaurants"})]}),(0,a.jsxs)("div",{className:"modern-stat",children:[a.jsx("span",{className:"modern-stat-number",children:"10+"}),a.jsx("span",{className:"modern-stat-label",children:"Cuisines"})]}),(0,a.jsxs)("div",{className:"modern-stat",children:[a.jsx("span",{className:"modern-stat-number",children:"15min"}),a.jsx("span",{className:"modern-stat-label",children:"Avg Delivery"})]})]})]})})})]}),a.jsx("main",{className:"restaurants-main",children:(0,a.jsxs)("div",{className:"restaurants-container",children:[(0,a.jsxs)("div",{className:"modern-search-section",children:[(0,a.jsxs)("div",{className:"modern-search-box",children:[a.jsx("div",{className:"search-icon",children:"\uD83D\uDD0D"}),a.jsx("input",{type:"text",placeholder:"Search restaurants, cuisines, or dishes...",value:m,onChange:e=>h(e.target.value),className:"modern-search-input"})]}),(0,a.jsxs)("div",{className:"modern-category-filters",children:[a.jsx("button",{className:`modern-category-btn ${"all"===d?"active":""}`,onClick:()=>u("all"),children:"All"}),a.jsx("button",{className:`modern-category-btn ${"fast-food"===d?"active":""}`,onClick:()=>u("fast-food"),children:"\uD83E\uDD6A Sandwiches"})]})]}),a.jsx("div",{className:"results-header",children:(0,a.jsxs)("h2",{children:["all"===d?"All Restaurants":`${d.charAt(0).toUpperCase()+d.slice(1)} Restaurants`,(0,a.jsxs)("span",{className:"results-count",children:["(",p.length," found)"]})]})}),a.jsx("div",{className:"modern-restaurants-grid",children:0===p.length?(0,a.jsxs)("div",{className:"no-results",children:[a.jsx("div",{className:"no-results-icon",children:"\uD83D\uDE15"}),a.jsx("h3",{children:"No restaurants found"}),a.jsx("p",{children:"Try adjusting your search or filter criteria"})]}):p.map((e,s)=>(0,a.jsxs)("div",{className:"modern-restaurant-card",onClick:()=>x(e),style:{animationDelay:`${.1*s}s`},children:[(0,a.jsxs)("div",{className:"modern-restaurant-image",children:[a.jsx("div",{className:"restaurant-emoji",children:e.emoji}),a.jsx("div",{className:"restaurant-badge",children:e.badge})]}),(0,a.jsxs)("div",{className:"modern-restaurant-content",children:[(0,a.jsxs)("div",{className:"restaurant-header",children:[a.jsx("h3",{children:e.name}),(0,a.jsxs)("div",{className:"rating-badge",children:["⭐ ",e.rating]})]}),a.jsx("p",{className:"restaurant-cuisine",children:e.cuisine}),a.jsx("p",{className:"restaurant-description",children:e.description}),(0,a.jsxs)("div",{className:"restaurant-meta-grid",children:[(0,a.jsxs)("div",{className:"meta-item",children:[a.jsx("span",{className:"meta-icon",children:"\uD83D\uDD52"}),a.jsx("span",{children:e.deliveryTime})]}),(0,a.jsxs)("div",{className:"meta-item",children:[a.jsx("span",{className:"meta-icon",children:"\uD83D\uDCB0"}),a.jsx("span",{children:e.deliveryFee})]})]}),(0,a.jsxs)("div",{className:"popular-items",children:[a.jsx("span",{className:"popular-label",children:"Popular:"}),a.jsx("span",{className:"popular-text",children:e.popularItems})]}),a.jsx("div",{className:"restaurant-action",children:a.jsx("button",{className:"order-btn",children:"Order Now"})})]})]},e.id))})]})})]})}},4131:(e,s,r)=>{"use strict";r.d(s,{a:()=>n});var a=r(7577),t=r(5047);function n(e={}){let{requireAuth:s=!1,redirectToLogin:r=!1}=e,n=(0,t.useRouter)(),[l,i]=(0,a.useState)({user:null,loading:!0,error:null}),o=(0,a.useCallback)(async()=>{try{let e=localStorage.getItem("accessToken");if(!e){i({user:null,loading:!1,error:null}),s&&r&&n.push("/login");return}let a=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(a.ok){let e=await a.json();i({user:e.user,loading:!1,error:null})}else if(401===a.status){let e=localStorage.getItem("refreshToken");if(e)try{let s=await fetch("/api/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(s.ok){let e=await s.json();localStorage.setItem("accessToken",e.session.accessToken),localStorage.setItem("refreshToken",e.session.refreshToken);let r=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${e.session.accessToken}`,"Content-Type":"application/json"}});if(r.ok){let e=await r.json();i({user:e.user,loading:!1,error:null})}else c()}else c()}catch(e){console.error("Token refresh error:",e),c()}else c()}else c()}catch(e){console.error("Auth check error:",e),i({user:null,loading:!1,error:"Failed to check authentication"}),s&&r&&n.push("/login")}},[s,r,n]),c=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),i({user:null,loading:!1,error:null}),s&&r&&n.push("/login")};return{user:l.user,loading:l.loading,error:l.error,isAuthenticated:!!l.user,logout:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),i({user:null,loading:!1,error:null}),n.push("/")},refreshAuth:()=>{i(e=>({...e,loading:!0})),o()}}}},2029:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i,metadata:()=>l});var a=r(9510),t=r(5384),n=r.n(t);r(1141);let l={title:"Campus Angel - University Food Delivery",description:"Your campus food angel is here! Order delicious food from campus restaurants with fast delivery."};function i({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:n().className,children:e})})}},8608:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`C:\Users\Bevan\uni-food-delivery\src\app\restaurants\page.tsx#default`)},1141:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[935,496],()=>r(3599));module.exports=a})();