(()=>{var e={};e.id=329,e.ids=[329],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5100:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>d}),a(8659),a(2029),a(5866);var r=a(3191),n=a(8716),i=a(7922),l=a.n(i),c=a(5231),t={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(t[e]=()=>c[e]);a.d(s,t);let d=["",{children:["order-confirmation",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8659)),"C:\\Users\\Bevan\\uni-food-delivery\\src\\app\\order-confirmation\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2029)),"C:\\Users\\Bevan\\uni-food-delivery\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\Bevan\\uni-food-delivery\\src\\app\\order-confirmation\\page.tsx"],m="/order-confirmation/page",h={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/order-confirmation/page",pathname:"/order-confirmation",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2620:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},8094:()=>{},4272:(e,s,a)=>{Promise.resolve().then(a.bind(a,4484))},4484:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var r=a(326),n=a(7577),i=a(5047),l=a(434),c=a(4131),t=a(8056);function d(){(0,i.useRouter)(),(0,i.useSearchParams)();let{user:e,loading:s,logout:a}=(0,c.a)(),[d,o]=(0,n.useState)(null),[m,h]=(0,n.useState)(null),[u,x]=(0,n.useState)(!0),[j,v]=(0,n.useState)(null);return u?r.jsx(t.Gu,{message:"Validating Order...",submessage:"Please wait while we verify your order details.",className:"confirmation-hero-bg"}):j||!m?r.jsx("div",{className:"App",children:(0,r.jsxs)("div",{className:"confirmation-hero-bg",children:[r.jsx(t.AI,{user:e,loading:s,onLogout:a}),r.jsx("main",{className:"confirmation-main",children:r.jsx("div",{className:"confirmation-container-modern",children:(0,r.jsxs)("div",{className:"confirmation-error",children:[r.jsx("div",{className:"error-icon",children:"❌"}),r.jsx("h2",{children:"Order Not Found"}),r.jsx("p",{children:j||"Unable to find order details. Please check your order history or contact support."}),(0,r.jsxs)("div",{className:"error-actions",children:[r.jsx(l.default,{href:"/account",className:"btn-error-primary",children:"\uD83D\uDCCB View Orders"}),r.jsx(l.default,{href:"/restaurants",className:"btn-error-secondary",children:"\uD83C\uDF7D️ Order Again"})]})]})})})]})}):(0,r.jsxs)("div",{className:"App",children:[(0,r.jsxs)("div",{className:"confirmation-hero-bg",children:[r.jsx(t.AI,{user:e,loading:s,onLogout:a}),r.jsx("section",{className:"confirmation-hero",children:r.jsx("div",{className:"confirmation-hero-container",children:(0,r.jsxs)("div",{className:"confirmation-hero-content",children:[r.jsx("div",{className:"success-icon",children:"✅"}),r.jsx("h1",{children:"Order Confirmed!"}),(0,r.jsxs)("p",{className:"order-id",children:["Order #",m.id]}),r.jsx("p",{children:"Thank you for your order! We've received your payment and your food is being prepared."}),(0,r.jsxs)("div",{className:"confirmation-hero-stats",children:[(0,r.jsxs)("div",{className:"modern-stat",children:[(0,r.jsxs)("span",{className:"modern-stat-number",children:["$",m.total.toFixed(0)]}),r.jsx("span",{className:"modern-stat-label",children:"Total Paid"})]}),(0,r.jsxs)("div",{className:"modern-stat",children:[r.jsx("span",{className:"modern-stat-number",children:"20min"}),r.jsx("span",{className:"modern-stat-label",children:"Est. Delivery"})]}),(0,r.jsxs)("div",{className:"modern-stat",children:[r.jsx("span",{className:"modern-stat-number",children:"✓"}),r.jsx("span",{className:"modern-stat-label",children:"Confirmed"})]})]})]})})})]}),r.jsx("main",{className:"confirmation-main",children:r.jsx("div",{className:"confirmation-container-modern",children:(0,r.jsxs)("div",{className:"confirmation-layout",children:[(0,r.jsxs)("div",{className:"order-details-modern",children:[(0,r.jsxs)("div",{className:"details-section",children:[(0,r.jsxs)("div",{className:"section-header-confirmation",children:[r.jsx("h2",{children:"\uD83D\uDCCB Order Summary"}),r.jsx("span",{className:`status-badge-modern ${m.status}`,children:m.status.toUpperCase()})]}),(0,r.jsxs)("div",{className:"summary-grid",children:[(0,r.jsxs)("div",{className:"summary-item",children:[r.jsx("div",{className:"summary-icon",children:"\uD83D\uDCB0"}),(0,r.jsxs)("div",{className:"summary-content",children:[r.jsx("span",{className:"summary-label",children:"Total Amount"}),(0,r.jsxs)("span",{className:"summary-value",children:["$",m.total.toFixed(2)]})]})]}),(0,r.jsxs)("div",{className:"summary-item",children:[r.jsx("div",{className:"summary-icon",children:"\uD83D\uDCB3"}),(0,r.jsxs)("div",{className:"summary-content",children:[r.jsx("span",{className:"summary-label",children:"Payment Method"}),r.jsx("span",{className:"summary-value",children:m.payment_method})]})]}),(0,r.jsxs)("div",{className:"summary-item",children:[r.jsx("div",{className:"summary-icon",children:"\uD83D\uDCC5"}),(0,r.jsxs)("div",{className:"summary-content",children:[r.jsx("span",{className:"summary-label",children:"Order Date"}),r.jsx("span",{className:"summary-value",children:new Date(m.created_at).toLocaleDateString()})]})]}),(0,r.jsxs)("div",{className:"summary-item",children:[r.jsx("div",{className:"summary-icon",children:"\uD83D\uDCE6"}),(0,r.jsxs)("div",{className:"summary-content",children:[r.jsx("span",{className:"summary-label",children:"Order ID"}),(0,r.jsxs)("span",{className:"summary-value",children:["#",m.id.slice(0,8)]})]})]})]})]}),(0,r.jsxs)("div",{className:"details-section",children:[r.jsx("div",{className:"section-header-confirmation",children:r.jsx("h2",{children:"\uD83C\uDFE2 Delivery Details"})}),(0,r.jsxs)("div",{className:"delivery-card",children:[(0,r.jsxs)("div",{className:"delivery-info-item",children:[r.jsx("span",{className:"delivery-label",children:"Building:"}),r.jsx("span",{className:"delivery-value",children:m.delivery_details.building})]}),(0,r.jsxs)("div",{className:"delivery-info-item",children:[r.jsx("span",{className:"delivery-label",children:"Room/Area:"}),r.jsx("span",{className:"delivery-value",children:m.delivery_details.room})]}),m.delivery_details.instructions&&(0,r.jsxs)("div",{className:"delivery-info-item",children:[r.jsx("span",{className:"delivery-label",children:"Instructions:"}),r.jsx("span",{className:"delivery-value",children:m.delivery_details.instructions})]})]})]}),(0,r.jsxs)("div",{className:"details-section",children:[r.jsx("div",{className:"section-header-confirmation",children:r.jsx("h2",{children:"\uD83D\uDCDE Contact Information"})}),(0,r.jsxs)("div",{className:"contact-card",children:[(0,r.jsxs)("div",{className:"contact-info-item",children:[r.jsx("span",{className:"contact-label",children:"Name:"}),r.jsx("span",{className:"contact-value",children:m.contact_info.name})]}),(0,r.jsxs)("div",{className:"contact-info-item",children:[r.jsx("span",{className:"contact-label",children:"Phone:"}),r.jsx("span",{className:"contact-value",children:m.contact_info.phone})]}),(0,r.jsxs)("div",{className:"contact-info-item",children:[r.jsx("span",{className:"contact-label",children:"Email:"}),r.jsx("span",{className:"contact-value",children:m.contact_info.email})]})]})]})]}),(0,r.jsxs)("div",{className:"action-panel-modern",children:[(0,r.jsxs)("div",{className:"delivery-timeline",children:[r.jsx("h3",{children:"\uD83D\uDE9A Delivery Timeline"}),(0,r.jsxs)("div",{className:"timeline-item",children:[r.jsx("div",{className:"timeline-icon confirmed",children:"✓"}),(0,r.jsxs)("div",{className:"timeline-content",children:[r.jsx("span",{className:"timeline-title",children:"Order Confirmed"}),r.jsx("span",{className:"timeline-desc",children:"Payment received and order sent to restaurant"})]})]}),(0,r.jsxs)("div",{className:"timeline-item upcoming",children:[r.jsx("div",{className:"timeline-icon",children:"\uD83D\uDC68‍\uD83C\uDF73"}),(0,r.jsxs)("div",{className:"timeline-content",children:[r.jsx("span",{className:"timeline-title",children:"Preparing Food"}),r.jsx("span",{className:"timeline-desc",children:"Restaurant is preparing your order"})]})]}),(0,r.jsxs)("div",{className:"timeline-item upcoming",children:[r.jsx("div",{className:"timeline-icon",children:"\uD83D\uDEB4"}),(0,r.jsxs)("div",{className:"timeline-content",children:[r.jsx("span",{className:"timeline-title",children:"Out for Delivery"}),r.jsx("span",{className:"timeline-desc",children:"Driver will pick up and deliver your order"})]})]}),(0,r.jsxs)("div",{className:"timeline-item upcoming",children:[r.jsx("div",{className:"timeline-icon",children:"\uD83C\uDF89"}),(0,r.jsxs)("div",{className:"timeline-content",children:[r.jsx("span",{className:"timeline-title",children:"Delivered!"}),r.jsx("span",{className:"timeline-desc",children:"Enjoy your meal"})]})]})]}),(0,r.jsxs)("div",{className:"action-buttons",children:[r.jsx(l.default,{href:`/order-tracking?orderId=${m.id}`,className:"btn-track-order-modern",children:"\uD83D\uDCCD Track Order"}),r.jsx(l.default,{href:"/account",className:"btn-view-orders",children:"\uD83D\uDCCB View All Orders"})]}),(0,r.jsxs)("div",{className:"support-card",children:[r.jsx("h4",{children:"Need Help?"}),r.jsx("p",{children:"Our support team is here to help!"}),r.jsx("p",{children:r.jsx("strong",{children:"\uD83D\uDCE7 support@campusangel.com"})}),r.jsx("p",{children:r.jsx("strong",{children:"\uD83D\uDCF1 1-800-CAMPUS"})})]})]})]})})})]})}function o(){return r.jsx(n.Suspense,{fallback:r.jsx(t.Gu,{}),children:r.jsx(d,{})})}},8056:(e,s,a)=>{"use strict";a.d(s,{AI:()=>i,Gu:()=>l,Te:()=>t,ZG:()=>c});var r=a(326),n=a(434);function i({user:e,loading:s,onLogout:a}){return r.jsx("header",{className:"modern-header",children:(0,r.jsxs)("nav",{className:"modern-nav",children:[r.jsx(n.default,{href:"/",className:"modern-logo",children:"Campus Angel"}),(0,r.jsxs)("ul",{className:"modern-nav-links",children:[r.jsx("li",{children:r.jsx(n.default,{href:"/",children:"Home"})}),r.jsx("li",{children:r.jsx(n.default,{href:"/restaurants",children:"Restaurants"})}),r.jsx("li",{children:r.jsx(n.default,{href:"/account",children:"Account"})}),r.jsx("li",{children:r.jsx(n.default,{href:"/cart",children:"Cart"})})]}),r.jsx("div",{className:"modern-auth-buttons",children:s?r.jsx("div",{className:"auth-loading",children:"⏳"}):e?(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.default,{href:"/account",className:"btn btn-outline-modern",children:"My Account"}),r.jsx(n.default,{href:"/cart",className:"btn btn-primary-modern",children:"Cart"}),r.jsx("button",{onClick:a,className:"btn btn-secondary-modern",children:"Logout"})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.default,{href:"/login",className:"btn btn-outline-modern",children:"Log In"}),r.jsx(n.default,{href:"/register",className:"btn btn-primary-modern",children:"Sign Up"})]})})]})})}function l({message:e="Loading...",submessage:s,className:a="hero-bg"}){return r.jsx("div",{className:"App",children:(0,r.jsxs)("div",{className:a,children:[r.jsx(i,{}),r.jsx("main",{className:"loading-main",children:r.jsx("div",{className:"loading-container-modern",children:(0,r.jsxs)("div",{className:"loading-content",children:[r.jsx("div",{className:"loading-spinner",children:"⏳"}),r.jsx("h2",{children:e}),s&&r.jsx("p",{children:s})]})})})]})})}function c({message:e="Authentication Required",submessage:s="You must be logged in to access this page.",className:a="hero-bg"}){return r.jsx("div",{className:"App",children:(0,r.jsxs)("div",{className:a,children:[r.jsx(i,{}),r.jsx("main",{className:"auth-required-main",children:r.jsx("div",{className:"auth-required-container-modern",children:(0,r.jsxs)("div",{className:"auth-required-content",children:[r.jsx("div",{className:"auth-icon",children:"\uD83D\uDD12"}),r.jsx("h2",{children:e}),r.jsx("p",{children:s}),(0,r.jsxs)("div",{className:"auth-actions-modern",children:[r.jsx(n.default,{href:"/login",className:"btn-auth-primary",children:"\uD83D\uDD11 Login"}),r.jsx(n.default,{href:"/register",className:"btn-auth-secondary",children:"\uD83D\uDCDD Register"})]})]})})})]})})}function t({title:e="Something went wrong",message:s,primaryAction:a,secondaryAction:l,className:c="hero-bg"}){return r.jsx("div",{className:"App",children:(0,r.jsxs)("div",{className:c,children:[r.jsx(i,{}),r.jsx("main",{className:"error-main",children:r.jsx("div",{className:"error-container-modern",children:(0,r.jsxs)("div",{className:"error-content",children:[r.jsx("div",{className:"error-icon",children:"❌"}),r.jsx("h2",{children:e}),r.jsx("p",{children:s}),(0,r.jsxs)("div",{className:"error-actions",children:[a&&(0,r.jsxs)(n.default,{href:a.href,className:"btn-error-primary",children:[a.icon," ",a.text]}),l&&(0,r.jsxs)(n.default,{href:l.href,className:"btn-error-secondary",children:[l.icon," ",l.text]})]})]})})})]})})}},4131:(e,s,a)=>{"use strict";a.d(s,{a:()=>i});var r=a(7577),n=a(5047);function i(e={}){let{requireAuth:s=!1,redirectToLogin:a=!1}=e,i=(0,n.useRouter)(),[l,c]=(0,r.useState)({user:null,loading:!0,error:null}),t=(0,r.useCallback)(async()=>{try{let e=localStorage.getItem("accessToken");if(!e){c({user:null,loading:!1,error:null}),s&&a&&i.push("/login");return}let r=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(r.ok){let e=await r.json();c({user:e.user,loading:!1,error:null})}else if(401===r.status){let e=localStorage.getItem("refreshToken");if(e)try{let s=await fetch("/api/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(s.ok){let e=await s.json();localStorage.setItem("accessToken",e.session.accessToken),localStorage.setItem("refreshToken",e.session.refreshToken);let a=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${e.session.accessToken}`,"Content-Type":"application/json"}});if(a.ok){let e=await a.json();c({user:e.user,loading:!1,error:null})}else d()}else d()}catch(e){console.error("Token refresh error:",e),d()}else d()}else d()}catch(e){console.error("Auth check error:",e),c({user:null,loading:!1,error:"Failed to check authentication"}),s&&a&&i.push("/login")}},[s,a,i]),d=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),c({user:null,loading:!1,error:null}),s&&a&&i.push("/login")};return{user:l.user,loading:l.loading,error:l.error,isAuthenticated:!!l.user,logout:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),c({user:null,loading:!1,error:null}),i.push("/")},refreshAuth:()=>{c(e=>({...e,loading:!0})),t()}}}},2029:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>c,metadata:()=>l});var r=a(9510),n=a(5384),i=a.n(n);a(1141);let l={title:"Campus Angel - University Food Delivery",description:"Your campus food angel is here! Order delicious food from campus restaurants with fast delivery."};function c({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:i().className,children:e})})}},8659:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(8570).createProxy)(String.raw`C:\Users\Bevan\uni-food-delivery\src\app\order-confirmation\page.tsx#default`)},1141:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[935,496],()=>a(5100));module.exports=r})();