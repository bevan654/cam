(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{2335:function(e,s,a){Promise.resolve().then(a.bind(a,8991))},8991:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return d}});var r=a(7437),n=a(2265),l=a(9376),i=a(7648);function d(){let e=(0,l.useRouter)(),[s,a]=(0,n.useState)({email:"",password:""}),[d,t]=(0,n.useState)(!1),[o,c]=(0,n.useState)(""),[u,h]=(0,n.useState)("");(0,n.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("message");e&&h(e)},[]);let m=e=>{let{name:s,value:r}=e.target;a(e=>({...e,[s]:r}))},p=async a=>{a.preventDefault(),t(!0),c("");try{let a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),r=await a.json();a.ok?(localStorage.setItem("accessToken",r.session.accessToken),localStorage.setItem("refreshToken",r.session.refreshToken),window.updateNavbarUser&&window.updateNavbarUser(r.user),e.push("/")):c(r.error||"Login failed")}catch(e){c("Network error. Please try again.")}finally{t(!1)}};return(0,r.jsx)("div",{className:"App",children:(0,r.jsxs)("div",{className:"auth-hero-bg",children:[(0,r.jsx)("header",{className:"modern-header",children:(0,r.jsxs)("nav",{className:"modern-nav",children:[(0,r.jsx)(i.default,{href:"/",className:"modern-logo",children:"Campus Angel"}),(0,r.jsxs)("ul",{className:"modern-nav-links",children:[(0,r.jsx)("li",{children:(0,r.jsx)(i.default,{href:"/",children:"Home"})}),(0,r.jsx)("li",{children:(0,r.jsx)(i.default,{href:"/restaurants",children:"Restaurants"})}),(0,r.jsx)("li",{children:(0,r.jsx)(i.default,{href:"#about",children:"About"})}),(0,r.jsx)("li",{children:(0,r.jsx)(i.default,{href:"#contact",children:"Contact"})})]}),(0,r.jsxs)("div",{className:"modern-auth-buttons",children:[(0,r.jsx)(i.default,{href:"/login",className:"btn btn-outline-modern",children:"Log In"}),(0,r.jsx)(i.default,{href:"/register",className:"btn btn-primary-modern",children:"Sign Up"})]})]})}),(0,r.jsx)("main",{className:"auth-main",children:(0,r.jsxs)("div",{className:"auth-container-modern",children:[(0,r.jsxs)("div",{className:"auth-visual",children:[(0,r.jsx)("div",{className:"auth-icon",children:"\uD83D\uDC7C"}),(0,r.jsx)("h2",{children:"Welcome Back!"}),(0,r.jsx)("p",{children:"Sign in to continue your food journey"})]}),(0,r.jsxs)("div",{className:"auth-card-modern",children:[(0,r.jsxs)("div",{className:"auth-header-modern",children:[(0,r.jsx)("h1",{children:"Sign In"}),(0,r.jsx)("p",{children:"Enter your credentials to access your account"})]}),u&&(0,r.jsxs)("div",{className:"success-message-modern",children:["✅ ",u]}),o&&(0,r.jsxs)("div",{className:"error-message-modern",children:["❌ ",o]}),(0,r.jsxs)("form",{onSubmit:p,className:"auth-form-modern",children:[(0,r.jsxs)("div",{className:"form-group-modern",children:[(0,r.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)("span",{className:"input-icon",children:"\uD83D\uDCE7"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,onChange:m,required:!0,placeholder:"Enter your email",className:"form-input-modern"})]})]}),(0,r.jsxs)("div",{className:"form-group-modern",children:[(0,r.jsx)("label",{htmlFor:"password",children:"Password"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)("span",{className:"input-icon",children:"\uD83D\uDD12"}),(0,r.jsx)("input",{type:"password",id:"password",name:"password",value:s.password,onChange:m,required:!0,placeholder:"Enter your password",className:"form-input-modern"})]})]}),(0,r.jsx)("button",{type:"submit",disabled:d,className:"btn-auth-modern",children:d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"loading-spinner",children:"⏳"}),"Signing In..."]}):"Sign In"})]}),(0,r.jsxs)("div",{className:"auth-footer-modern",children:[(0,r.jsx)(i.default,{href:"/forgot-password",className:"forgot-password-modern",children:"\uD83D\uDD10 Forgot your password?"}),(0,r.jsx)("div",{className:"auth-divider",children:(0,r.jsx)("span",{children:"New to Campus Angel?"})}),(0,r.jsx)(i.default,{href:"/register",className:"btn-auth-secondary",children:"Create Account"})]})]})]})})]})})}}},function(e){e.O(0,[448,971,117,744],function(){return e(e.s=2335)}),_N_E=e.O()}]);